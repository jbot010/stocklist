<%- include('../partials/html-head') %>
<link rel="stylesheet" href="/stylesheets/clothingItems/edit.css" />
<%- include('../partials/nav') %>

<main>
  <div class="icon-top">
    <img class="main-icons" src="/images/t-shirt-64.png" alt="t-shirt icon">
    <img class="main-icons" src="/images/jeans-64.png" alt="jeans icon">
    <img class="main-icons" src="/images/shirt-64.png" alt="shirt icon">
    <img class="main-icons" src="/images/sneaker-64.png" alt="sneaker icon">
    <img class="main-icons" src="/images/backpack-64.png" alt="backpack icon">
  </div>
  <h1><%= title %></h1>
  <form 
    id="new-form" 
    action="/clothingItems/<%= clothingItem._id %>?_method=PUT" 
    method="POST"
    >
    <label for="clothingItems-select">Name:</label>
    <select name="name" id="clothingItems-select">
      <option value="<%= clothingItem.name %>"><%= clothingItem.name %></option>
      <option value="Tops">Tops</option>
      <option value="Bottoms">Bottoms</option>
      <option value="Outerwear">Outerwear</option>
      <option value="Shoes">Shoes</option>
      <option value="Accessories">Accessories</option>
    </select>
    <label for="description-input">Description:</label>
    <input 
      type="text" 
      name="description" 
      id="description-input"
      value="<%= clothingItem.description %>"
      required
      >
    <label for="favorite-checkbox">
      Favorite?
      <input 
      type="checkbox" 
      name="favorite"
      id="favorite-checkbox"
      <%= clothingItem.favorite ? 'checked' : '' %>
      >
    </label>
    <label for="status-select">Status:</label>
    <select name="status" id="clothingItems-status-select">
      <option value="<%= clothingItem.status %>"><%= clothingItem.status %></option>
      <option value="Keep">Keep</option>
      <option value="Sell">Sell</option>
      <option value="Donate">Donate</option>
    </select>
    <label for="sold-checkbox">
      Sold/Donated?
      <input 
      type="checkbox" 
      name="sold"
      id="sold-checkbox"
      <%= clothingItem.sold ? 'checked' : '' %>
      >
      </select>
      <div>Color(s):</div>
      <select name="colorId" id="color-select">
        <% clothingItem.colors.forEach(color => { %>
          <option value="<%= color._id %>"><%= color.name %></option>
      <% }) %>
        <% colors.forEach(color => { %>
          <option value="<%= color._id %>"><%= color.name %></option>
      <% }) %>
      </select>
      <div>Brand(s):</div>
      <select name="brandId" id="brand-select">
        <% clothingItem.brands.forEach(brand => { %>
          <option value="<%= brand._id %>"><%= brand.name %></option>
      <% }) %>
        <% brands.forEach(brand => { %>
          <option value="<%= brand._id %>"><%= brand.name %></option>
      <% }) %>
      </select>
      <% if (clothingItem.owner.equals(user?.profile._id)) { %>
        <button type="submit">Update Item</button>
      <% } %>
  </form>
</main>

<%- include('../partials/footer') %>
