<%- include('../partials/html-head') %>
<link rel="stylesheet" href="/stylesheets/clothingItems/index.css" />
<%- include('../partials/nav') %>

<h2>All Items 👕👖🧥👟🧢</h2>
<section class="flex-column info-item-container">
  <% if (user) { %>
    <ul class="flex-column">
      <% clothingItems.forEach(clothingItem => { %>
        <% if (clothingItem.owner.equals(user?.profile._id)) { %>
          <li class="flex-row">
            <div class="flex-column info-item-btns">
              <span><%= 
              clothingItem.name === 'Tops' && '👕' 
              || clothingItem.name === 'Bottoms' && '👖' 
              || clothingItem.name === 'Outerwear' && '🧥' 
              || clothingItem.name === 'Shoes' && '👟' 
              || clothingItem.name === 'Accessories' && '🧢' 
              || ''%></span>
            <%= clothingItem.name %>
            <a href="/clothingitems/<%= clothingItem._id %>">
              <button class="btns">Edit Item</button>
            </a>
            <% if (clothingItem.owner.equals(user?.profile._id)) { %>
              <form action="/clothingItems/<%= clothingItem._id %>?_method=DELETE"
                method="POST"
                >
                <button 
                class="btns" type="submit">X</button>
              </form>
              <% } %>
            </div>
        <div class="flex-row info-item-section">
          <div>Description: </div>
          <div><%= clothingItem.description %></div>
          <div>Favorite: </div>
          <div><%= clothingItem.favorite ? 'Yes ✅' : 'Nope 🚫' %></div>
          <div>Status: </div>
          <div><%= 
          clothingItem.status === 'Keep' && 'Keep ❤️' 
          ||  clothingItem.status === 'Sell' && 'Sell 💲' 
          || clothingItem.status === 'Donate' && 'Donate ♻️' 
          || '' %>
        </div>
        <div>Sold:</div>
        <div><%= clothingItem.sold ? 'Yes 💸' : 'Nope 🚫' %></div>
      </div>
        </li>
          <% } %>
      <% }) %>
    </ul>
  <% } %>
</section>

<%- include('../partials/footer') %>
